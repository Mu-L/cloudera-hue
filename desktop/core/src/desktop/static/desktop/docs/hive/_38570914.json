{"body":"<div><div>\n        <div id=\"title\">\n                        <h1>Parquet</h1>\n        </div>\n\n        <!--<div id=\"toc\" class=\"content prepend-top\">\n            <h1>Table of Contents</h1>\n            $replacement.render(\"toc\")\n        </div>-->\n\n        <div id=\"src-38570914\">\n    <div>\n            <div>Version</div>\n                    <p>\n    Parquet is supported by a plugin in Hive 0.10, 0.11, and 0.12 and natively in Hive 0.13 and later.            </p>\n        </div>\n                <p>\n                </p>\n                <p>\n                </p>\n    <ul><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Introduction\">Introduction</a>            </p>\n    </li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-NativeParquetSupport\">Native Parquet Support</a>            </p>\n    <ul><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_safe-id-UGFycXVldC1IaXZlMC4xMCwwLjExLGFuZDAuMTI\">Hive 0.10, 0.11, and 0.12</a>            </p>\n    </li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Hive0.13\">Hive 0.13</a>            </p>\n    </li></ul></li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-HiveQLSyntax\">HiveQL Syntax</a>            </p>\n    <ul><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Hive0.10-0.12\">Hive 0.10 - 0.12</a>            </p>\n    </li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Hive0.13andlater\">Hive 0.13 and later</a>            </p>\n    </li></ul></li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-VersionsandLimitations\">Versions and Limitations</a>            </p>\n    <ul><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Hive0.13.0\">Hive 0.13.0</a>            </p>\n    </li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Hive0.14.0\">Hive 0.14.0</a>            </p>\n    </li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Hive1.1.0\">Hive 1.1.0</a>            </p>\n    </li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Hive1.2.0\">Hive 1.2.0</a>            </p>\n    </li><li>            <p>\n    <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-Resources\">Resources</a>            </p>\n    </li></ul></li></ul>    <div id=\"src-38570914_Parquet-Introduction\">\n        <h2><span>Introduction</span></h2>\n            <p>\n    Parquet (<a href=\"http://parquet.io/\">http://parquet.io/</a>) is an ecosystem wide columnar format for Hadoop. Read <a href=\"https://blog.twitter.com/2013/dremel-made-simple-with-parquet\">Dremel made simple with Parquet</a> for a good introduction to the format while the Parquet project has an <a href=\"https://github.com/Parquet/parquet-format\">in-depth description of the format</a> including motivations and diagrams. At the time of this writing Parquet supports the follow engines and data description languages:            </p>\n                <p>\n    <strong>Engines</strong>            </p>\n    <ul><li>            <p>\n    Apache Hive            </p>\n    </li><li>            <p>\n    Apache Drill            </p>\n    </li><li>            <p>\n    Cloudera Impala            </p>\n    </li><li>            <p>\n    Apache Crunch            </p>\n    </li><li>            <p>\n    Apache Pig            </p>\n    </li><li>            <p>\n    Cascading            </p>\n    </li><li>            <p>\n    Apache Spark            </p>\n    </li></ul>            <p>\n    <strong>Data description</strong>            </p>\n    <ul><li>            <p>\n    Apache Avro            </p>\n    </li><li>            <p>\n    Apache Thrift            </p>\n    </li><li>            <p>\n    Google Protocol Buffers            </p>\n    </li></ul>            <p>\n    The latest information on Parquet engine and data description support, please visit the <a href=\"https://github.com/Parquet/parquet-mr\">Parquet-MR projects feature matrix</a>.            </p>\n        <div>\n            <div>Parquet Motivation</div>\n                    <p>\n    We created Parquet to make the advantages of compressed, efficient columnar data representation available to any project in the Hadoop ecosystem.            </p>\n                <p>\n    Parquet is built from the ground up with complex nested data structures in mind, and uses the record shredding and assembly algorithm described in the Dremel paper. We believe this approach is superior to simple flattening of nested name spaces.            </p>\n                <p>\n    Parquet is built to support very efficient compression and encoding schemes. Multiple projects have demonstrated the performance impact of applying the right compression and encoding scheme to the data. Parquet allows compression schemes to be specified on a per-column level, and is future-proofed to allow adding more encodings as they are invented and implemented.            </p>\n                <p>\n    Parquet is built to be used by anyone. The Hadoop ecosystem is rich with data processing frameworks, and we are not interested in playing favorites. We believe that an efficient, well-implemented columnar storage substrate should be useful to all frameworks without the cost of extensive and difficult to set up dependencies.            </p>\n        </div>\n        </div>\n    <div id=\"src-38570914_Parquet-NativeParquetSupport\">\n        <h2><span>Native Parquet Support </span></h2>\n    <div id=\"src-38570914_safe-id-UGFycXVldC1IaXZlMC4xMCwwLjExLGFuZDAuMTI\">\n        <h3><span>Hive 0.10, 0.11, and 0.12</span></h3>\n            <p>\n    To use Parquet with Hive 0.10-0.12 you must <a href=\"http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22parquet-hive-bundle%22\">download</a> the Parquet Hive package from the Parquet project. You want the <a href=\"http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22parquet-hive-bundle%22\">parquet-hive-bundle jar</a> in Maven Central.            </p>\n        </div>\n    <div id=\"src-38570914_Parquet-Hive0.13\">\n        <h3><span>Hive 0.13</span></h3>\n            <p>\n    Native Parquet support was added (<a href=\"https://issues.apache.org/jira/browse/HIVE-5783\">HIVE-5783)</a>. Please note that not all Parquet data types are supported in this version (see <a href=\"/links/_38570914/38570914.html#src-38570914_Parquet-VersionsandLimitations\">Versions and Limitations</a> below).            </p>\n        </div>\n    </div>\n    <div id=\"src-38570914_Parquet-HiveQLSyntax\">\n        <h2><span>HiveQL Syntax</span></h2>\n            <p>\n    A <a href=\"/links/_27362034/27362034.html#src-27362034_LanguageManualDDL-CreateTable\">CREATE TABLE</a> statement can specify the Parquet storage format with syntax that depends on the Hive version.            </p>\n        <div id=\"src-38570914_Parquet-Hive0.10-0.12\">\n        <h3><span>Hive 0.10 - 0.12</span></h3>\n    <div>\n                <div>\n        <pre><code>CREATE TABLE parquet_test (\n id int,\n str string,\n mp MAP&lt;STRING,STRING&gt;,\n lst ARRAY&lt;STRING&gt;,\n strct STRUCT&lt;A:STRING,B:STRING&gt;) \nPARTITIONED BY (part string)\nROW FORMAT SERDE 'parquet.hive.serde.ParquetHiveSerDe'\n STORED AS\n INPUTFORMAT 'parquet.hive.DeprecatedParquetInputFormat'\n OUTPUTFORMAT 'parquet.hive.DeprecatedParquetOutputFormat';</code></pre>\n        </div>\n    </div>\n    </div>\n    <div id=\"src-38570914_Parquet-Hive0.13andlater\">\n        <h3><span>Hive 0.13 and later</span></h3>\n    <div>\n                <div>\n        <pre><code>CREATE TABLE parquet_test (\n id int,\n str string,\n mp MAP&lt;STRING,STRING&gt;,\n lst ARRAY&lt;STRING&gt;,\n strct STRUCT&lt;A:STRING,B:STRING&gt;) \nPARTITIONED BY (part string)\nSTORED AS PARQUET;</code></pre>\n        </div>\n    </div>\n    </div>\n    </div>\n    <div id=\"src-38570914_Parquet-VersionsandLimitations\">\n        <h2><span>Versions and Limitations</span></h2>\n    <div id=\"src-38570914_Parquet-Hive0.13.0\">\n        <h3><span>Hive 0.13.0</span></h3>\n            <p>\n    Support was added for Create Table AS SELECT (CTAS -- <a href=\"https://issues.apache.org/jira/browse/HIVE-6375\">HIVE-6375</a>).            </p>\n        </div>\n    <div id=\"src-38570914_Parquet-Hive0.14.0\">\n        <h3><span>Hive 0.14.0</span></h3>\n            <p>\n    Support was added for timestamp (<a href=\"https://issues.apache.org/jira/browse/HIVE-6394\">HIVE-6394</a>), decimal (<a href=\"https://issues.apache.org/jira/browse/HIVE-6367\">HIVE-6367</a>), and char and varchar (<a href=\"https://issues.apache.org/jira/browse/HIVE-7735\">HIVE-7735</a>) data types. Support was also added for column rename with use of the flag <tt>parquet.column.index.access</tt> (<a href=\"https://issues.apache.org/jira/browse/HIVE-6938\">HIVE-6938</a>). Parquet column names were previously case sensitive (query had to use column case that matches exactly what was in the metastore), but became case insensitive (<a href=\"https://issues.apache.org/jira/browse/HIVE-7554\">HIVE-7554</a>).            </p>\n        </div>\n    <div id=\"src-38570914_Parquet-Hive1.1.0\">\n        <h3><span>Hive 1.1.0</span></h3>\n            <p>\n    Support was added for binary data types (<a href=\"https://issues.apache.org/jira/browse/HIVE-7073\">HIVE-7073</a>).            </p>\n        </div>\n    <div id=\"src-38570914_Parquet-Hive1.2.0\">\n        <h3><span>Hive 1.2.0</span></h3>\n            <p>\n    Support for remaining Parquet data types was added (<a href=\"https://issues.apache.org/jira/browse/HIVE-6384\">HIVE-6384</a>).            </p>\n        </div>\n    <div id=\"src-38570914_Parquet-Resources\">\n        <h3><span>Resources</span></h3>\n<ul><li>            <p>\n    <a href=\"http://parquet.io\">Parquet Website</a>            </p>\n    </li><li>            <p>\n    <a href=\"https://github.com/Parquet/parquet-format\">Format specification</a>            </p>\n    </li><li>            <p>\n    <a href=\"https://github.com/Parquet/parquet-mr\">Feature Matrix</a>            </p>\n    </li><li>            <p>\n    <a href=\"https://github.com/Parquet/parquet-mr/wiki/The-striping-and-assembly-algorithms-from-the-Dremel-paper\">The striping and assembly algorithms from the Dremel paper</a>            </p>\n    </li><li>            <p>\n    <a href=\"http://research.google.com/pubs/pub36632.html\">Dremel paper</a>            </p>\n    </li><li>            <p>\n    <a href=\"https://blog.twitter.com/2013/dremel-made-simple-with-parquet\">Dremel made simple with Parquet</a>            </p>\n    </li></ul>    </div>\n    </div>\n        </div>\n    </div></div>","title":"Parquet"}